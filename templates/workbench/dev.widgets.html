{% extends "master.html" %}
{% block title %}Widgets{% end %}
{% block header %}
<script type="text/javascript">
    var entitys = {% raw context["entity_map"]%};
    var table_cols = {% raw context["table_cols"]%};
    function load_entitys_list(){
        var html = "";
        for(var key in entitys){
            html += '<a href="#" class="list-group-item" onclick="builder(this,\''+entitys[key]+'\');">';
            html += '<i class="icon-table"></i> '+key;
            html += '</a>';
        }
        $("#entitys").html(html);
    }
    function builder(elem, table_name){
        $("#entitys a").removeClass("bg-lighter");
        $(elem).addClass("bg-lighter");
        console.log(table_cols[table_name]);
    }
    $(document).ready(function(){
        load_entitys_list();
    });
</script>
{% end %}
{% block workspace %}
<section class="main padder">
    <div class="clearfix">
        <h4><i class="icon-puzzle-piece"></i>Widgets</h4>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="col-lg-4">
                <section class="panel">
                    <header class="panel-heading bg bg-inverse">
                      Entity List
                    </header>
                    <div class="list-group scroll-y" style="height: 500px;" id="entitys"></div>
                </section>
            </div>
            <div class="col-lg-8">
            <section class="panel">
                <header class="panel-heading text-right">
                  <ul class="nav nav-tabs pull-left">
                    <li class="active"><a href="#tb_dataview" data-toggle="tab"><i class="icon-comments icon-large text-default"></i>DataView</a></li>
                    <li><a href="#tb_datatable" data-toggle="tab"><i class="icon-user icon-large text-default"></i>DataTable</a></li>
                  </ul>
                </header>
                <div class="panel-body">
                  <div class="tab-content">
                    <div class="tab-pane fade" id="tb_dataview">DataView</div>
                    <div class="tab-pane fade" id="tb_datatable">DataTable</div>
                  </div>
                </div>
            </section>
            </div>
        </div>
    </div>
</section>
{% end %}